(this.webpackJsonpshoping_cart=this.webpackJsonpshoping_cart||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/logo.3c5c75a8.PNG"},32:function(e,t,a){e.exports=a(44)},41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),i=a.n(r),s=a(9),l=(a(41),a(7)),o=a(8),d=a(11),u=a(10);function p(e){return{type:"UPDATE_PRODUCTS",products:e}}function m(e,t){return console.log("update wale me hu",e),{type:"UPDATE_PRODUCT_DESCRIPTION",product:e,index:t}}function E(e,t){return{type:"INCREASE_QUANTITY",product:e,index:t}}function v(e,t){return{type:"DECREASE_QUANTITY",product:e,index:t}}function f(e){return{type:"DELETE_PRODUCT",product:e}}function h(e){return{type:"SORT_PRODUCTS",products:e}}var g=a(16),b=a(2),y=a(28),N=a.n(y),O=function(e){return c.a.createElement("div",{className:"nav"},c.a.createElement("div",{className:"left"},c.a.createElement("div",null,c.a.createElement("span",{id:"logo"},c.a.createElement(g.b,{to:"/"},c.a.createElement("img",{className:"icon",src:N.a,alt:"cart-logo"})))),c.a.createElement("div",null,c.a.createElement(g.b,{to:"/",style:{textDecoration:"none"}},c.a.createElement("span",{className:"listofproducts"},"Products"))),c.a.createElement("div",null,c.a.createElement(g.b,{to:"/add",style:{textDecoration:"none"}},c.a.createElement("span",{className:"add"},"Add a product"),c.a.createElement("img",{className:"icon",src:"https://image.flaticon.com/icons/svg/875/875515.svg",alt:"plus"})))),c.a.createElement("div",{className:"right"},c.a.createElement("div",{className:"cart"},c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/849/849532.svg",alt:"cart"}),c.a.createElement("span",{className:"cart-count"},e.CartCount),c.a.createElement("span",{className:"cart-total"},"Total:",e.CartTotal)),c.a.createElement("div",{id:"username"},"Deepak"),c.a.createElement("div",{id:"userimage"},c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/145/145867.svg",alt:"userid"}))))},C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).increase=function(){var t=e.props.products,a=e.props.product,n=t.list.indexOf(a);t.list[n].quantity+=1,e.props.dispatch(E(a,n))},e.decrease=function(){var t=e.props.products,a=e.props.product,n=t.list.indexOf(a);0!==a.quantity&&(t.list[n].quantity-=1,e.props.dispatch(v(a,n)))},e.edit=function(){for(var t=e.props,a=document.getElementsByClassName("pic"),n=0,c=0;c<a.length;c++)t.product.imgUrl===a[c].src&&(n=c);var r=document.getElementsByClassName("description")[n];r.style.border="1px solid black",r.setAttribute("contentEditable","true"),document.getElementsByClassName("save-btn")[n].style.display="block",document.getElementsByClassName("edit")[n].style.display="none"},e.save=function(){for(var t=e.props,a=document.getElementsByClassName("pic"),n=0,c=0;c<a.length;c++)t.product.imgUrl===a[c].src&&(n=c);document.getElementsByClassName("edit")[n].style.display="block",document.getElementsByClassName("save-btn")[n].style.display="none";var r=document.getElementsByClassName("description")[n];t.product.description=r.innerText,r.setAttribute("contentEditable","false"),r.style.border="none",e.props.dispatch(m(t,n))},e.delete=function(){var t=e.props;e.props.dispatch(f(t))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.product;return c.a.createElement("div",{className:"product-container"},c.a.createElement("div",{className:"left-part"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:e.imgUrl,alt:"product-pic",className:"pic"})),c.a.createElement("div",{className:"About"},c.a.createElement("div",{className:"name"},c.a.createElement("span",null,e.name)),c.a.createElement("div",{className:"price"},c.a.createElement("span",null,"Rs.",e.price))),c.a.createElement("div",{className:"quantity"},c.a.createElement("div",{className:"quan"},"Qty:",e.quantity),c.a.createElement("div",{className:"operations"},c.a.createElement("div",{className:"inc",onClick:this.increase},c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/148/148764.svg",alt:"increase"})),c.a.createElement("div",{className:"dec",onClick:this.decrease},c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/992/992514.svg",alt:"dec"}))))),c.a.createElement("div",{id:"right-part"},c.a.createElement("div",{className:"description",contentEditable:"false"},e.description),c.a.createElement("button",{className:"save-btn",onClick:this.save},"save"),c.a.createElement("div",{className:"icons"},c.a.createElement("div",{className:"edit-delete",onClick:this.edit},c.a.createElement("button",{className:"edit"},c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/715/715750.svg",alt:"edit"}))),c.a.createElement("div",{className:"edit-delete"},c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/3221/3221897.svg",alt:"delete",onClick:this.delete})))))}}]),a}(n.Component);var j=Object(s.b)((function(e){return{products:e.products}}))(C),T=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onSort=function(){document.getElementById("cancel").style.display="block";var t=[].concat(e.props.products.list);t.sort((function(e,t){return e.price-t.price})),e.props.dispatch(h(t))},e.cancel=function(){var t=e.props,a=[].concat(t.products.list);document.getElementById("cancel").style.display="none";fetch("https://cors-anywhere.herokuapp.com/http://my-json-server.typicode.com/deepak-singh343/productdb/db").then((function(e){return e.json()})).then((function(t){var n=[].concat(t.Products);console.log(a);for(var c=[],r=0;r<a.length;r++){for(var i=0;i<n.length&&(console.log("k=",r,"l=",i),JSON.stringify(n[i].id)!==JSON.stringify(a[r].id));i++);console.log(i),i===n.length&&(console.log("l",i),console.log("added product",a[r]),c.push(a[r]))}for(var s=0;s<n.length;s++)for(var l=0;l<a.length;l++)if(JSON.stringify(a[l].id)===JSON.stringify(n[s].id)){n[s].quantity=a[l].quantity,n[s].description=a[l].description,c.push(n[s]);break}e.props.dispatch(p(c))}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.products,t=(e=e.list).length?e.map((function(e,t){return c.a.createElement(j,{product:e,key:t})})):c.a.createElement("div",{id:"loading"},"Loading");return c.a.createElement("div",null,c.a.createElement("div",{className:"products-list"},c.a.createElement("div",{id:"sort"},c.a.createElement("div",{id:"sorting",onClick:this.onSort},c.a.createElement("button",null,"Sort By Price")),c.a.createElement("div",{id:"cancel",onClick:this.cancel},c.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/1828/1828665.svg",alt:"cancel-btn"}))),t))}}]),a}(n.Component);var D=Object(s.b)((function(e){return{products:e.products}}))(T),k=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.products;return c.a.createElement("div",null,c.a.createElement(D,{products:e}))}}]),a}(n.Component),P=a(13),U=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e,t){n.setState(Object(P.a)({},e,t))},n.addProduct=function(e){e.preventDefault();var t=n.state.product,a=n.state,c=a.name,r=a.imgUrl,i=a.price,s=a.description;t.id=parseInt(1e3*Math.random(),10),t.name=c,t.imgUrl=r,t.price=i,t.description=s,t.quantity=0,n.setState({product:t}),document.querySelectorAll("input").forEach((function(e){return e.value=""})),n.props.dispatch(function(e){return{type:"ADD_NEW_PRODUCT",product:e}}(t))},n.state={product:{id:"",name:"",imgUrl:"",price:"",description:""}},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"add-product-container"},c.a.createElement("form",{className:"add-product"},c.a.createElement("span",{className:"heading"},"Add a Product"),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"label"},"Name"),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",placeholder:"Enter Name of Product",required:!0,onChange:function(t){return e.handleInputChange("name",t.target.value)}}))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"label"},"Image Link"),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",placeholder:"Enter Image Link",required:!0,onChange:function(t){return e.handleInputChange("imgUrl",t.target.value)}}))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"label"},"Price"),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"number",placeholder:"Enter Price of Product",required:!0,onChange:function(t){return e.handleInputChange("price",t.target.value)}}))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"label"},"Description"),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",placeholder:"Enter Description of Product",required:!0,onChange:function(t){return e.handleInputChange("description",t.target.value)}}))),c.a.createElement("button",{id:"add-btn",onClick:this.addProduct},"ADD")))}}]),a}(n.Component),A=Object(s.b)((function(e){return{products:e.products}}))(U),S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).CartCount=function(){var t=e.props.list.products,a=0;return t.list.forEach((function(e){a+=e.quantity})),a},e.CartTotal=function(){var t=e.props.list.products,a=0;return t.list.forEach((function(e){e.quantity>0&&(a+=e.quantity*e.price)})),a},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){fetch("https://cors-anywhere.herokuapp.com/http://my-json-server.typicode.com/deepak-singh343/productdb/db").then((function(e){return e.json()})).then((function(t){e(p(t.Products))}))}))}},{key:"render",value:function(){var e=this.props.list.products;return c.a.createElement(g.a,null,c.a.createElement("div",null,c.a.createElement(O,{CartCount:this.CartCount(),CartTotal:this.CartTotal()}),c.a.createElement(b.c,null,c.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return c.a.createElement(k,{products:e})}}),c.a.createElement(b.a,{path:"/add",component:A}))))}}]),a}(c.a.Component);var I=Object(s.b)((function(e){return{list:e}}))(S),_=a(14),q=a(29),R=a(30),x=a.n(R),B=a(31),w=a(12),J=a(20),L=a.n(J),Q={list:[]};var Y=Object(_.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PRODUCTS":return Object(w.a)(Object(w.a)({},e),{},{list:t.products});case"ADD_NEW_PRODUCT":return Object(w.a)(Object(w.a)({},e),{},{list:[t.product].concat(Object(B.a)(e.list))});case"UPDATE_PRODUCT_DESCRIPTION":return L()(e,{list:Object(P.a)({},t.index,{description:{$set:t.product.product.description}})});case"INCREASE_QUANTITY":case"DECREASE_QUANTITY":return L()(e,{list:Object(P.a)({},t.index,{quantity:{$set:t.product.quantity}})});case"DELETE_PRODUCT":return Object(w.a)(Object(w.a)({},e),{},{list:e.list.filter((function(e){return e.id!==t.product.product.id}))});case"SORT_PRODUCTS":return Object(w.a)(Object(w.a)({},e),{},{list:t.products});default:return e}}});var M=Object(_.d)(Y,Object(_.a)(q.a,x.a));i.a.render(c.a.createElement(s.a,{store:M},c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.22d3bdc1.chunk.js.map